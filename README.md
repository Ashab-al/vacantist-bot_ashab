# Вакантист: Telegram-бот для получения вакансий

Вакантист — это Telegram-бот, который позволяет пользователям подписываться на вакансии по интересующим категориям и получать уведомления о новых предложениях.

<img width="397" height="779" alt="image" src="https://github.com/user-attachments/assets/98fa79ea-f887-4405-ac8e-ab75c5a034bd" />

## Как работает бот?
1. Пользователь заходит в бота: [Перейти к рабочему боту](https://t.me/infobizaa_bot).
2. Нажимает на кнопку «Категории».
4. Выбирает нужные категории вакансий.
5. После выбора категорий пользователь сразу получает ранее опубликованные вакансии и начинает получать новые вакансии по выбранным тематикам.


## Основные функции
- Подписка на вакансии по категориям.
- Мгновенные уведомления о новых вакансиях.
- Автоматическая фильтрация и отправка актуальных вакансий.
- Оплата звездами Telegram


## Стек технологий
- Python 3.13+
- Асинхронное программирование: asyncio, asyncpg
- Telegram-бот: aiogram
- Web / API: FastAPI
- База данных: PostgreSQL, SQLAlchemy ORM, Alembic для миграций
- Валидация и конфигурация: Pydantic, pydantic-settings
- Шаблонизация: Jinja2
- Тестирование: Pytest
- Управление окружением: Docker / Docker Compose
## Установка и запуск проекта

#### Следуйте этим шагам, чтобы запустить бота на своем устройстве:

### 1. Подготовка .env
Перед запуском локального проекта:

``` bash
cp .env.example .env
```
Заполните переменные в .env

### 2. Запуск через Docker Compose:


| Файл         | Назначение                            | Пример запуска                |
|--------------|----------------------------------------|-------------------------------|
| `develop.yml`       | **Разработка** | `make dev`   |
| `production.yml`  | **Продакшн** | `make prod`  |
#### Остановить приложение (`Ctrl + C`) либо:
```
docker compose stop
```


### 3. Миграции
Создать новую миграцию:
```
docker compose -f develop.yml run --rm web alembic revision --autogenerate -m "new migration"
```
Применить миграции:
```
docker compose -f develop.yml run --rm web alembic upgrade head
```

### 4. Тесты
Запуск тестов:
```
make test
```

### 5. Tuna (для вебхуков и для локально разработки)
##### Для работы вебхуков установите Tuna: [Инструкция по установке Tuna](https://tuna.am/docs/getting-started/#%D1%88%D0%B0%D0%B3-1-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5-%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82https://tuna.am/docs/getting-started/#%D1%88%D0%B0%D0%B3-1-%D1%83%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%B8%D1%82%D0%B5-%D0%BA%D0%BB%D0%B8%D0%B5%D0%BD%D1%82).
- Tuna нужен для получения публичного URL для вебхуков Telegram.
- Запуск туннеля `tuna http 5050`
- Полученную ссылку добавить в .env TUNA_URL и после уже запускать проект

## Примечание
- Проект использует PostgreSQL через Docker.
- Для локальной разработки достаточно `develop.yml`.
- В production используйте `production.yml`.
