# Вакантист: Telegram-бот для получения вакансий

Вакантист — это Telegram-бот, который позволяет пользователям подписываться на вакансии по интересующим категориям и получать уведомления о новых предложениях.

## Как работает бот?

1. Пользователь заходит в бота: [Перейти к рабочему боту](https://t.me/infobizaa_bot).
2. Нажимает на кнопку «Категории».
3. Выбирает нужные категории вакансий.
4. После выбора категорий пользователь сразу получает ранее опубликованные вакансии и начинает получать новые вакансии по выбранным тематикам.


## Основные функции
- Подписка на вакансии по категориям.
- Мгновенные уведомления о новых вакансиях.
- Автоматическая фильтрация и отправка актуальных вакансий.
- Оплата звездами Telegram


## Стек технологий
- Python 3.13+
- Асинхронное программирование: asyncio, asyncpg
- Telegram-бот: aiogram
- Web / API: FastAPI
- База данных: PostgreSQL, SQLAlchemy ORM, Alembic для миграций
- Валидация и конфигурация: Pydantic, pydantic-settings
- Шаблонизация: Jinja2
- Тестирование: Pytest
- Управление окружением: Docker / Docker Compose, python-dotenv
## Установка и запуск проекта

#### Следуйте этим шагам, чтобы запустить бота на своем устройстве:

### 1. Подготовка .env
Перед запуском локального проекта:

``` bash
cp .env.example .env
```
Заполните переменные в .env

### 2. Запуск через Docker Compose:


| Файл         | Назначение                            | Пример запуска                |
|--------------|----------------------------------------|-------------------------------|
| `develop.yml`       | **Разработка** | `docker compose -f develop.yml up --build`   |
| `production.yml`  | **Продакшн** | `docker compose -f production.yml up -d`  |
#### Остановить приложение (`Ctrl + C`) либо:
```
docker compose stop
```


### 3. Миграции
Создать новую миграцию:
```
docker compose -f develop.yml run --rm web alembic revision --autogenerate -m "new migration"
```
Применить миграции:
```
docker compose -f develop.yml run --rm web alembic upgrade head
```

### 4. Тесты
Запуск тестов:
```
docker compose -f develop.yml run --rm web pytest .
```

### 5. Ngrok (для вебхуков и для локально разработки)
##### Для работы вебхуков установите Ngrok: [Инструкция по установке Ngrok](https://ngrok.com/docs/getting-started/).
- Убедитесь, что переменная `NGROK_AUTHTOKEN` установлена.
- Ngrok нужен для получения публичного URL для вебхуков Telegram.

## Примечание
- Проект использует PostgreSQL через Docker.
- Для локальной разработки достаточно `develop.yml`.
- В production используйте `production.yml`.